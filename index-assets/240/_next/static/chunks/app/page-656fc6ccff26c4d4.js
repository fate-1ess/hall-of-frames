(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3206:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>_});var t=r(5155),u=r(2115),i=r(3264),c=r(7431);let s=/^(?:[a-z]+:)?\/\//i,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.endsWith("/")?e.slice(0,-1):e:""},o=()=>{var e;return l((e="/index-assets/240",void 0!==e)?e:"")},a=()=>{var e;let n=null!==(e=window.__NEXT_DATA__)&&void 0!==e?e:{};return l(n.assetPrefix||n.basePath)},v=null,d=()=>{if(null!==v)return v;let e=Array.from(document.querySelectorAll('script[src*="/_next/"]')).find(e=>{var n;return(null!==(n=e.getAttribute("src"))&&void 0!==n?n:"").includes("/_next/")});if(e){var n;let r=null!==(n=e.getAttribute("src"))&&void 0!==n?n:"",t=r.indexOf("/_next/");if(-1!==t)return v=l(r.slice(0,t))}let{pathname:r}=window.location;return v="string"==typeof r&&r.length>1?l(r.replace(/\/index\.html?$/,"")):""},f=()=>{let e=a();if(e)return e;let n=d();return n||o()},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return f();if(s.test(e))return e;let n=f(),r=e.startsWith("/")?e:"/".concat(e);return n&&r.startsWith("".concat(n,"/"))?r:n?"".concat(n).concat(r):r},p=e=>{let{src:n,className:r}=e,s=(0,u.useRef)(null),l=(0,u.useRef)(null),o=(0,u.useRef)(null),a=(0,u.useRef)(null),v=(0,u.useRef)(null),d=(0,u.useRef)(!1),f={maskRadius:.15,maskSpeed:.75,lerpFactor:.05,radiusLerpSpeed:.1,turbulenceIntensity:.075},p=(0,u.useRef)(new i.I9Y(.5,.5)),_=(0,u.useRef)(new i.I9Y(.5,.5)),h=(0,u.useRef)(0),g=(0,u.useRef)(!1),x=(0,u.useRef)(!1),w=(0,u.useRef)(0),y=(0,u.useRef)(0),b=(0,u.useRef)(null),R=(0,u.useMemo)(()=>m(n),[n]);(0,u.useEffect)(()=>{if(!d.current&&s.current&&R)return new i.Tap().load(R,e=>{A(e),E(),I(),d.current=!0}),()=>{if(b.current&&cancelAnimationFrame(b.current),l.current&&(l.current.dispose(),s.current)){let e=s.current.querySelector("canvas");e&&s.current.removeChild(e)}}},[R]);let A=e=>{if(!s.current)return;let n=e.image.width/e.image.height;e.minFilter=i.$_I,e.magFilter=i.k6q,e.anisotropy=16;let r=new i.Z58;o.current=r;let t=s.current.clientWidth,u=s.current.clientHeight;a.current=new i.qUd(-1,1,1,-1,0,1);let d={u_texture:{value:e},u_mouse:{value:new i.I9Y(.5,.5)},u_time:{value:0},u_resolution:{value:new i.I9Y(t,u)},u_radius:{value:0},u_speed:{value:f.maskSpeed},u_imageAspect:{value:n},u_turbulenceIntensity:{value:f.turbulenceIntensity}};v.current=d;let m=new i.bdM(2,2),p=new i.BKk({uniforms:d,vertexShader:"\n  varying vec2 v_uv;\n  \n  void main() {\n    v_uv = uv;\n    gl_Position = vec4(position, 1.0);\n  }\n",fragmentShader:"\n  precision highp float;\n\n  uniform sampler2D u_texture;\n  uniform vec2 u_mouse;\n  uniform float u_time;\n  uniform vec2 u_resolution;\n  uniform float u_radius;\n  uniform float u_speed;\n  uniform float u_imageAspect;\n  uniform float u_turbulenceIntensity;\n\n  varying vec2 v_uv;\n\n  float hash(vec2 p) {\n    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\n  }\n\n  float noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(\n      mix(hash(i + vec2(0.0, 0.0)), hash(i + vec2(1.0, 0.0)), u.x),\n      mix(hash(i + vec2(0.0, 1.0)), hash(i + vec2(1.0, 1.0)), u.x),\n      u.y\n    );\n  }\n\n  float turbulence(vec2 p) {\n    float t = 0.0;\n    float w = 0.5;\n    for (int i = 0; i < 8; i++) {\n      t += abs(noise(p)) * w;\n      p *= 2.0;\n      w *= 0.5;\n    }\n    return t;\n  }\n\n  void main() {\n    vec2 uv = v_uv;\n    float screenAspect = u_resolution.x / u_resolution.y;\n    float ratio = u_imageAspect / screenAspect;\n\n    vec2 texCoord = vec2(\n      mix(0.5 - 0.5 / ratio, 0.5 + 0.5 / ratio, uv.x),\n      uv.y\n    );\n\n    vec4 tex = texture2D(u_texture, texCoord);\n    float gray = dot(tex.rgb, vec3(0.299, 0.587, 0.114));\n    vec3 invertedGray = vec3(1.0 - gray);\n\n    vec2 correctedUV = uv;\n    correctedUV.x *= screenAspect;\n    vec2 correctedMouse = u_mouse;\n    correctedMouse.x *= screenAspect;\n\n    float dist = distance(correctedUV, correctedMouse);\n    \n    float jaggedDist = dist + (turbulence(uv * 25.0 + u_time * u_speed) - 0.5) * u_turbulenceIntensity;\n    \n    float mask = step(jaggedDist, u_radius);\n\n    vec3 finalColor = mix(invertedGray, tex.rgb, 1.0 - mask);\n    gl_FragColor = vec4(finalColor, 1.0);\n  }\n"}),_=new i.eaF(m,p);r.add(_);let h=new c.JeP({antialias:!0});l.current=h,h.setPixelRatio(window.devicePixelRatio),h.setSize(t,u),h.capabilities.anisotropy=16,s.current.appendChild(h.domElement);let g=()=>{if(!s.current||!l.current||!v.current)return;let e=s.current.clientWidth,n=s.current.clientHeight;l.current.setSize(e,n),v.current.u_resolution.value.set(e,n)};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g)}},E=()=>{let e=e=>{k(e.clientX,e.clientY)},n=()=>{k(w.current,y.current)};if(document.addEventListener("mousemove",e),window.addEventListener("scroll",n),s.current){let r=new IntersectionObserver(e=>{e.forEach(e=>{g.current=e.isIntersecting,g.current||(h.current=0)})},{threshold:.1});return r.observe(s.current),()=>{document.removeEventListener("mousemove",e),window.removeEventListener("scroll",n),r.disconnect()}}},k=(e,n)=>{if(!s.current)return;w.current=e,y.current=n;let r=s.current.getBoundingClientRect(),t=e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom;x.current=t,t?(p.current.x=(e-r.left)/r.width,p.current.y=1-(n-r.top)/r.height,h.current=f.maskRadius):h.current=0},I=()=>{if(!v.current||!l.current||!o.current||!a.current){b.current=requestAnimationFrame(I);return}_.current.lerp(p.current,f.lerpFactor),v.current.u_mouse.value.copy(_.current),v.current.u_time.value+=.01,v.current.u_radius.value+=(h.current-v.current.u_radius.value)*f.radiusLerpSpeed,l.current.render(o.current,a.current),b.current=requestAnimationFrame(I)};return(0,t.jsx)("div",{ref:s,className:"inversion-lens ".concat(r||""),children:(0,t.jsx)("img",{src:R,alt:"",style:{display:"none"}})})};function _(){return(0,t.jsx)(p,{src:m("/portrait.jpeg")})}},5639:(e,n,r)=>{Promise.resolve().then(r.bind(r,3206))}},e=>{var n=n=>e(e.s=n);e.O(0,[367,831,441,684,358],()=>n(5639)),_N_E=e.O()}]);