(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1465:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{default:()=>x});var a=r(5155),i=r(2115),s=r(802),l=r(6511);let c=["Chromatic Loopscape","Solar Bloom","Neon Handscape","Echo Discs","Void Gaze","Gravity Sync","Heat Core","Fractal Mirage","Nova Pulse","Sonic Horizon","Dream Circuit","Lunar Mesh","Radiant Dusk","Pixel Drift","Vortex Bloom","Shadow Static","Crimson Phase","Retro Cascade","Photon Fold","Zenith Flow"],o=/^(?:[a-z]+:)?\/\//i,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.endsWith("/")?e.slice(0,-1):e:""},u=()=>{var e;return d((e="/index-assets/showcase-243-codegrid-infinite-draggable-image-gallery-nextjs",e))},m=()=>{var e;let t=null!=(e=window.__NEXT_DATA__)?e:{};return d(t.assetPrefix||t.basePath)},g=null,h=()=>{if(null!==g)return g;let e=Array.from(document.querySelectorAll('script[src*="/_next/"]')).find(e=>{var t;return(null!=(t=e.getAttribute("src"))?t:"").includes("/_next/")});if(e){var t;let r=null!=(t=e.getAttribute("src"))?t:"",n=r.indexOf("/_next/");if(-1!==n)return g=d(r.slice(0,n))}let{pathname:r}=window.location;return g="string"==typeof r&&r.length>1?d(r.replace(/\/index\.html?$/,"")):""},v=()=>{let e=m();if(e)return e;let t=h();return t||u()},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return v();if(o.test(e))return e;let t=v(),r=e.startsWith("/")?e:"/".concat(e);return t&&r.startsWith("".concat(t,"/"))?r:t?"".concat(t).concat(r):r};function w(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),o=(0,i.useRef)(null),d=(0,i.useRef)(null);(0,i.useRef)(null);let[u,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let t=async()=>{n=(await r.e(450).then(r.bind(r,4450))).default,L(),m(!0)};return s.Ay.registerPlugin(l.CustomEase),l.CustomEase.create("hop","0.9, 0, 0.1, 1"),t(),()=>{e.current&&(e.current.removeEventListener("mousedown",X),e.current.removeEventListener("touchstart",D)),window.removeEventListener("mousemove",Y),window.removeEventListener("mouseup",b),window.removeEventListener("touchmove",j),window.removeEventListener("touchend",M),window.removeEventListener("resize",A),animationFrameId&&cancelAnimationFrame(animationFrameId)}},[]);let g=(0,i.useRef)({isDragging:!1,startX:0,startY:0,targetX:0,targetY:0,currentX:0,currentY:0,dragVelocityX:0,dragVelocityY:0,lastDragTime:0,mouseHasMoved:!1,visibleItems:new Set,lastUpdateTime:0,lastX:0,lastY:0,isExpanded:!1,activeItem:null,canDrag:!0,originalPosition:null,expandedItem:null,activeItemId:null,titleSplit:null,animationFrameId:null}),h=e=>{let{titleSplit:t}=g.current,r=d.current.querySelector("p");t&&t.revert(),r.textContent=e,g.current.titleSplit=new n(r,{types:"words"}),s.Ay.set(g.current.titleSplit.words,{y:"100%"})},v=()=>{s.Ay.to(g.current.titleSplit.words,{y:"0%",duration:1,stagger:.1,ease:"power3.out"})},w=()=>{s.Ay.to(g.current.titleSplit.words,{y:"-100%",duration:1,stagger:.1,ease:"power3.out"})},x=()=>{let e=g.current,r=t.current;if(!r)return;let n=3.5*window.innerWidth,a=3.5*window.innerHeight,i=e.targetX>e.currentX,s=e.targetY>e.currentY,l=i?-300:300,c=s?-300:300,o=Math.floor((-e.currentX-n/2+(i?l:0))/270),d=Math.ceil((-e.currentX+1.5*n+(i?0:l))/270),u=Math.floor((-e.currentY-a/2+(s?c:0))/310),m=Math.ceil((-e.currentY+1.5*a+(s?0:c))/310),h=new Set;for(let t=u;t<=m;t++)for(let n=o;n<=d;n++){let a="".concat(n,",").concat(t);if(h.add(a),e.visibleItems.has(a)||e.activeItemId===a&&e.isExpanded)continue;let i=document.createElement("div");i.className="item",i.id=a,i.style.left="".concat(270*n,"px"),i.style.top="".concat(310*t,"px"),i.dataset.col=n,i.dataset.row=t;let s=Math.abs(4*t+n)%20+1,l=document.createElement("img");l.src=p("/img".concat(s,".jpg")),l.alt="Image ".concat(s),i.appendChild(l),i.addEventListener("click",t=>{e.mouseHasMoved||e.isDragging||y(i)}),r.appendChild(i),e.visibleItems.add(a)}e.visibleItems.forEach(t=>{if(!h.has(t)||e.activeItemId===t&&e.isExpanded){let n=document.getElementById(t);n&&r.contains(n)&&r.removeChild(n),e.visibleItems.delete(t)}})},y=e=>{let t=g.current;t.isExpanded?t.expandedItem&&E():f(e)},f=t=>{let r=g.current,n=e.current,a=o.current;r.isExpanded=!0,r.activeItem=t,r.activeItemId=t.id,r.canDrag=!1,n.style.cursor="auto";let i=t.querySelector("img").src.match(/\/img(\d+)\.jpg/),l=((i?parseInt(i[1]):1)-1)%c.length;h(c[l]),t.style.visibility="hidden";let d=t.getBoundingClientRect(),u=t.querySelector("img").src;r.originalPosition={id:t.id,rect:d,imgSrc:u},a.classList.add("active");let m=document.createElement("div");m.className="expanded-item",m.style.width="".concat(120,"px"),m.style.height="".concat(160,"px");let p=document.createElement("img");p.src=u,m.appendChild(p),m.addEventListener("click",E),document.body.appendChild(m),r.expandedItem=m,document.querySelectorAll(".item").forEach(e=>{e!==r.activeItem&&s.Ay.to(e,{opacity:0,duration:.3,ease:"power2.out"})});let w=.4*window.innerWidth;s.Ay.delayedCall(.5,v),s.Ay.fromTo(m,{width:120,height:160,x:d.left+60-window.innerWidth/2,y:d.top+80-window.innerHeight/2},{width:w,height:1.2*w,x:0,y:0,duration:1,ease:"hop"})},E=()=>{let t=g.current,r=e.current,n=o.current;if(!t.expandedItem||!t.originalPosition)return;w(),n.classList.remove("active");let a=t.originalPosition.rect;document.querySelectorAll(".item").forEach(e=>{e.id!==t.activeItemId&&s.Ay.to(e,{opacity:1,duration:.5,delay:.5,ease:"power2.out"})});let i=document.getElementById(t.activeItemId);s.Ay.to(t.expandedItem,{width:120,height:160,x:a.left+60-window.innerWidth/2,y:a.top+80-window.innerHeight/2,duration:1,ease:"hop",onComplete:()=>{t.expandedItem&&t.expandedItem.parentNode&&document.body.removeChild(t.expandedItem),i&&(i.style.visibility="visible"),t.expandedItem=null,t.isExpanded=!1,t.activeItem=null,t.originalPosition=null,t.activeItemId=null,t.canDrag=!0,r.style.cursor="grab",t.dragVelocityX=0,t.dragVelocityY=0}})},I=()=>{let e=g.current,r=t.current;if(r){if(e.canDrag){e.currentX+=(e.targetX-e.currentX)*.075,e.currentY+=(e.targetY-e.currentY)*.075,r.style.transform="translate(".concat(e.currentX,"px, ").concat(e.currentY,"px)");let t=Date.now();(Math.sqrt(Math.pow(e.currentX-e.lastX,2)+Math.pow(e.currentY-e.lastY,2))>100||t-e.lastUpdateTime>120)&&(x(),e.lastX=e.currentX,e.lastY=e.currentY,e.lastUpdateTime=t)}e.animationFrameId=requestAnimationFrame(I)}},X=t=>{let r=g.current;r.canDrag&&(r.isDragging=!0,r.mouseHasMoved=!1,r.startX=t.clientX,r.startY=t.clientY,e.current.style.cursor="grabbing")},Y=e=>{let t=g.current;if(!t.isDragging||!t.canDrag)return;let r=e.clientX-t.startX,n=e.clientY-t.startY;(Math.abs(r)>5||Math.abs(n)>5)&&(t.mouseHasMoved=!0);let a=Date.now(),i=Math.max(10,a-t.lastDragTime);t.lastDragTime=a,t.dragVelocityX=r/i,t.dragVelocityY=n/i,t.targetX+=r,t.targetY+=n,t.startX=e.clientX,t.startY=e.clientY},b=t=>{let r=g.current;r.isDragging&&(r.isDragging=!1,r.canDrag&&(e.current.style.cursor="grab",(Math.abs(r.dragVelocityX)>.1||Math.abs(r.dragVelocityY)>.1)&&(r.targetX+=200*r.dragVelocityX,r.targetY+=200*r.dragVelocityY)))},D=e=>{let t=g.current;t.canDrag&&(t.isDragging=!0,t.mouseHasMoved=!1,t.startX=e.touches[0].clientX,t.startY=e.touches[0].clientY)},j=e=>{let t=g.current;if(!t.isDragging||!t.canDrag)return;let r=e.touches[0].clientX-t.startX,n=e.touches[0].clientY-t.startY;(Math.abs(r)>5||Math.abs(n)>5)&&(t.mouseHasMoved=!0),t.targetX+=r,t.targetY+=n,t.startX=e.touches[0].clientX,t.startY=e.touches[0].clientY},M=()=>{g.current.isDragging=!1},C=()=>{g.current.isExpanded&&E()},A=()=>{let e=g.current;if(e.isExpanded&&e.expandedItem){let t=.4*window.innerWidth;s.Ay.to(e.expandedItem,{width:t,height:1.2*t,duration:.3,ease:"power2.out"})}else x()},L=()=>{let t=e.current,r=o.current;t&&r&&(t.addEventListener("mousedown",X),window.addEventListener("mousemove",Y),window.addEventListener("mouseup",b),t.addEventListener("touchstart",D,{passive:!0}),window.addEventListener("touchmove",j,{passive:!0}),window.addEventListener("touchend",M),window.addEventListener("resize",A),r.addEventListener("click",C),x(),I())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"container",ref:e,children:[(0,a.jsx)("div",{className:"canvas",id:"canvas",ref:t}),(0,a.jsx)("div",{className:"overlay",id:"overlay",ref:o})]}),(0,a.jsx)("div",{className:"project-title",ref:d,children:(0,a.jsx)("p",{})})]})}function x(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("nav",{children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("a",{href:"#",children:"Codegrid"})}),(0,a.jsxs)("div",{className:"links",children:[(0,a.jsx)("a",{href:"#",children:"About"}),(0,a.jsx)("a",{href:"#",children:"Contact"}),(0,a.jsxs)("div",{className:"socials",children:[(0,a.jsx)("a",{href:"#",children:"FB"}),(0,a.jsx)("a",{href:"#",children:"IG"}),(0,a.jsx)("a",{href:"#",children:"YT"})]})]})]}),(0,a.jsxs)("footer",{children:[(0,a.jsx)("p",{children:"Experiment 445"}),(0,a.jsx)("p",{children:"Unlock Source Code with PRO"})]}),(0,a.jsx)(w,{})]})}},2286:(e,t,r)=>{Promise.resolve().then(r.bind(r,1465))}},e=>{var t=t=>e(e.s=t);e.O(0,[592,884,441,684,358],()=>t(2286)),_N_E=e.O()}]);