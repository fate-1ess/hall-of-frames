(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{130:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var i=r(5155),n=r(2115);let o=e=>{var t;let{images:r}=e,o=(0,n.useRef)(null),s=(0,n.useRef)(null),[a,c]=(0,n.useState)(!1),l=(0,n.useRef)([]),u={gravity:.25,friction:.99,imageSize:150,horizontalForce:20,verticalForce:15,rotationSpeed:10,resetDelay:500},h=(t="/index-assets/showcase-235-codegrid-image-explosion-scroll-animation-nextjs",void 0!==t)?t:"",d=h.endsWith("/")?h.slice(0,-1):h,m=e=>{let t=e.startsWith("/")?e:"/".concat(e);return d?"".concat(d).concat(t):t},f=r||Array.from({length:15},(e,t)=>m("/assets/img".concat(t+1,".jpg")));class p{update(){this.vy+=u.gravity,this.vx*=u.friction,this.vy*=u.friction,this.rotationSpeed*=u.friction,this.x+=this.vx,this.y+=this.vy,this.rotation+=this.rotationSpeed,this.element&&(this.element.style.transform="translate(".concat(this.x,"px, ").concat(this.y,"px) rotate(").concat(this.rotation,"deg)"))}constructor(e){this.element=e,this.x=0,this.y=0,this.vx=(Math.random()-.5)*u.horizontalForce,this.vy=-u.verticalForce-10*Math.random(),this.rotation=0,this.rotationSpeed=(Math.random()-.5)*u.rotationSpeed}}let v=()=>{o.current&&(o.current.innerHTML="",l.current=[],f.forEach(e=>{let t=document.createElement("img");t.src=e,t.classList.add("explosion-particle-img"),t.style.width="".concat(u.imageSize,"px"),o.current.appendChild(t)}),l.current=Array.from(o.current.querySelectorAll(".explosion-particle-img")).map(e=>new p(e)))},g=()=>{let e;if(a)return;c(!0),v();let t=!1,r=()=>{if(!t){if(l.current.forEach(e=>e.update()),o.current&&l.current.every(e=>e.y>o.current.offsetHeight/2)){cancelAnimationFrame(e),t=!0,setTimeout(()=>{c(!1)},u.resetDelay);return}e=requestAnimationFrame(r)}};r()},y=()=>{if(!s.current)return;let e=s.current.getBoundingClientRect(),t=window.innerHeight;!a&&e.top<=t-.5*e.height&&g()};return(0,n.useEffect)(()=>{let e;f.forEach(e=>{new Image().src=e}),s.current=document.querySelector("footer"),v();let t=()=>{clearTimeout(e),e=setTimeout(y,10)};window.addEventListener("scroll",t),setTimeout(y,500);let r=()=>{c(!1)};return window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",r),clearTimeout(e)}},[]),(0,i.jsx)("div",{ref:o,className:"explosion-container"})}},4165:(e,t,r)=>{Promise.resolve().then(r.bind(r,130))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4165)),_N_E=e.O()}]);