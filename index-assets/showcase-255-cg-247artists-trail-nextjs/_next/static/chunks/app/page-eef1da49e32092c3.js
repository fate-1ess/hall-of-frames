(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{813:(e,t,n)=>{Promise.resolve().then(n.bind(n,2259))},2259:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var r=n(5155),c=n(2115);let a=/^(?:[a-z]+:)?\/\//i,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.endsWith("/")?e.slice(0,-1):e:""},l=()=>{var e;return i((e="/index-assets/showcase-255-cg-247artists-trail-nextjs",e))},s=()=>{var e;let t=null!=(e=window.__NEXT_DATA__)?e:{};return i(t.assetPrefix||t.basePath)},u=null,o=()=>{if(null!==u)return u;let e=Array.from(document.querySelectorAll('script[src*="/_next/"]')).find(e=>{var t;return(null!=(t=e.getAttribute("src"))?t:"").includes("/_next/")});if(e){var t;let n=null!=(t=e.getAttribute("src"))?t:"",r=n.indexOf("/_next/");if(-1!==r)return u=i(n.slice(0,r))}let{pathname:n}=window.location;return u="string"==typeof n&&n.length>1?i(n.replace(/\/index\.html?$/,"")):""},d=()=>{let e=s();if(e)return e;let t=o();return t||l()},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!e)return d();if(a.test(e))return e;let t=d(),n=e.startsWith("/")?e:"/".concat(e);return t&&n.startsWith("".concat(t,"/"))?n:t?"".concat(t).concat(n):n},f=()=>{let e=(0,c.useRef)(null),t=(0,c.useRef)(null),n=(0,c.useRef)([]),a=(0,c.useRef)(0),i=(0,c.useRef)({x:0,y:0}),l=(0,c.useRef)({x:0,y:0}),s=(0,c.useRef)({x:0,y:0}),u=(0,c.useRef)(!1);return(0,c.useEffect)(()=>{let r={imageLifespan:1e3,mouseThreshold:150,inDuration:750,outDuration:1e3,staggerIn:100,staggerOut:25,slideDuration:1e3,slideEasing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",easing:"cubic-bezier(0.87, 0, 0.13, 1)"},c=Array.from({length:20},(e,t)=>m("/trail-images/img".concat(t+1,".jpeg"))),o=e.current;if(!o)return;u.current=window.innerWidth>1e3;let d={lerp:(e,t,n)=>(1-n)*e+n*t,distance:(e,t,n,r)=>Math.hypot(n-e,r-t)},f=()=>d.distance(i.current.x,i.current.y,l.current.x,l.current.y),p=(e,t)=>{let n=o.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom},h=()=>{let e=document.createElement("div");e.classList.add("trail-img");let t=c[a.current];a.current=(a.current+1)%20;let l=o.getBoundingClientRect(),u=s.current.x-l.left-87.5,d=s.current.y-l.top-87.5,m=i.current.x-l.left-87.5,f=i.current.y-l.top-87.5;e.style.left="".concat(u,"px"),e.style.top="".concat(d,"px"),e.style.transition="left ".concat(r.slideDuration,"ms ").concat(r.slideEasing,", top ").concat(r.slideDuration,"ms ").concat(r.slideEasing);let p=[],h=[];for(let n=0;n<10;n++){let c=document.createElement("div");c.classList.add("mask-layer");let a=document.createElement("div");a.classList.add("image-layer"),a.style.backgroundImage="url(".concat(t,")");let i=10*n,l=(n+1)*10;c.style.clipPath="polygon(50% ".concat(i,"%, 50% ").concat(i,"%, 50% ").concat(l,"%, 50% ").concat(l,"%)"),c.style.transition="clip-path ".concat(r.inDuration,"ms ").concat(r.easing),c.style.transform="translateZ(0)",c.style.backfaceVisibility="hidden",c.appendChild(a),e.appendChild(c),p.push(c),h.push(a)}o.appendChild(e),requestAnimationFrame(()=>{e.style.left="".concat(m,"px"),e.style.top="".concat(f,"px"),p.forEach((e,t)=>{let n=10*t,c=(t+1)*10;setTimeout(()=>{e.style.clipPath="polygon(0% ".concat(n,"%, 100% ").concat(n,"%, 100% ").concat(c,"%, 0% ").concat(c,"%)")},Math.abs(t-4.5)*r.staggerIn)})}),n.current.push({element:e,maskLayers:p,imageLayers:h,removeTime:Date.now()+r.imageLifespan})},y=()=>{let e=Date.now();if(0!==n.current.length&&e>=n.current[0].removeTime){let e=n.current.shift();e.maskLayers.forEach((e,t)=>{let n=10*t,c=(t+1)*10,a=(4.5-Math.abs(t-4.5))*r.staggerOut;e.style.transition="clip-path ".concat(r.outDuration,"ms ").concat(r.easing),setTimeout(()=>{e.style.clipPath="polygon(50% ".concat(n,"%, 50% ").concat(n,"%, 50% ").concat(c,"%, 50% ").concat(c,"%)")},a)}),e.imageLayers.forEach(e=>{e.style.transition="opacity ".concat(r.outDuration,"ms ").concat(r.easing),e.style.opacity="0.25"}),setTimeout(()=>{e.element.parentNode&&e.element.parentNode.removeChild(e.element)},r.outDuration+112)}},g=()=>{if(!u.current)return;let e=f();s.current.x=d.lerp(s.current.x||i.current.x,i.current.x,.1),s.current.y=d.lerp(s.current.y||i.current.y,i.current.y,.1),e>r.mouseThreshold&&p(i.current.x,i.current.y)&&(h(),l.current={...i.current}),y(),t.current=requestAnimationFrame(g)},x=()=>{if(!u.current)return;let e=e=>{i.current={x:e.clientX,y:e.clientY}};return document.addEventListener("mousemove",e),t.current=requestAnimationFrame(g),()=>{document.removeEventListener("mousemove",e)}},v=()=>{t.current&&(cancelAnimationFrame(t.current),t.current=null),n.current.forEach(e=>{e.element.parentNode&&e.element.parentNode.removeChild(e.element)}),n.current.length=0},E=()=>{let e=u.current;u.current=window.innerWidth>1e3,u.current&&!e?w=x():!u.current&&e&&(v(),w&&w())},w=null;return window.addEventListener("resize",E),u.current&&(w=x()),()=>{v(),w&&w(),window.removeEventListener("resize",E)}},[]),(0,r.jsx)("div",{ref:e,className:"trail-container"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(813)),_N_E=e.O()}]);