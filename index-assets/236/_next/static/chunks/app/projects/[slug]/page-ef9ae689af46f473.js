(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{7444:(e,r,t)=>{Promise.resolve().then(t.bind(t,9080))},9080:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var n=t(5155),s=t(2115),l=t(802),i=t(9088),o=t(2810);let c=e=>{let{children:r,options:t={},root:n=!1}=e,l=(0,s.useRef)(null),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!n)return;let e=new o.A({duration:1.1,smoothWheel:!0,smoothTouch:!1,...t}),r=t=>{e.raf(t),i.current=requestAnimationFrame(r)};return i.current=requestAnimationFrame(r),l.current=e,()=>{i.current&&cancelAnimationFrame(i.current),e.destroy(),l.current=null}},[t,n]),r},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?e.endsWith("/")?e.slice(0,-1):e:""},u=()=>{var e;return a((e="/index-assets/236",void 0!==e)?e:"")},d=()=>{var e;let r=null!==(e=window.__NEXT_DATA__)&&void 0!==e?e:{};return a(r.assetPrefix||r.basePath)},p=()=>{let e=d();return null!=e?e:u()},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=p();if(!e)return r;let t=e.startsWith("/")?e:"/".concat(e);return r?"".concat(r).concat(t):t};function g(e){var r;let{project:t,nextProject:o,prevProject:a}=e,u=(0,s.useRef)(null),d=(0,s.useRef)(null),p=(0,s.useRef)(null),g=(0,s.useRef)(null),h=(0,s.useRef)(null),[v,j]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!0),y=(null!==(r=t.images)&&void 0!==r?r:[]).map(e=>f(e)),w=(0,s.useRef)(null),N=(0,s.useRef)(null),A=(0,s.useCallback)(e=>f("/projects/".concat(e)),[]),k=(0,s.useCallback)(e=>{var r,t,n,s;let l=A(e);if(e===a.slug){let e=null!==(t=null===(r=w.current)||void 0===r?void 0:r.href)&&void 0!==t?t:l;window.location.assign(e);return}if(e===o.slug){let e=null!==(s=null===(n=N.current)||void 0===n?void 0:n.href)&&void 0!==s?s:l;window.location.assign(e);return}window.location.assign(l)},[A,o.slug,a.slug]),b=(0,s.useCallback)(e=>{e.preventDefault();let r=e.currentTarget.href;if(r){window.location.assign(r);return}k(a.slug)},[k,a.slug]),_=(0,s.useCallback)(e=>{e.preventDefault();let r=e.currentTarget.href;if(r){window.location.assign(r);return}k(o.slug)},[k,o.slug]);return(0,s.useEffect)(()=>(l.Ay.registerPlugin(i.u),l.Ay.set(u.current,{opacity:0,y:-100}),l.Ay.to(u.current,{opacity:1,y:0,duration:1,delay:.25,ease:"power3.out"}),l.Ay.to(p.current,{opacity:1,duration:1,delay:.5,ease:"power3.out"}),i.u.create({trigger:document.body,start:"top top",end:"bottom bottom",onUpdate:e=>{d.current&&l.Ay.set(d.current,{scaleX:e.progress})}}),i.u.create({trigger:g.current,start:"top top",end:"+=".concat(3*window.innerHeight,"px"),pin:!0,pinSpacing:!0,onEnter:()=>{u.current&&!v&&l.Ay.to(u.current,{y:-100,duration:.5,ease:"power2.inOut"})},onLeaveBack:()=>{u.current&&!v&&l.Ay.to(u.current,{y:0,duration:.5,ease:"power2.inOut"})},onUpdate:e=>{if(h.current&&m&&l.Ay.set(h.current,{scaleX:e.progress}),e.progress>=1&&!v){var r,t;x(!1),j(!0);let e=l.Ay.timeline();e.set(h.current,{scaleX:1}),e.to([null===(r=g.current)||void 0===r?void 0:r.querySelector(".project-footer-copy"),null===(t=g.current)||void 0===t?void 0:t.querySelector(".next-project-progress")],{opacity:0,duration:.3,ease:"power2.inOut"}),e.call(()=>{var e;let r=null===(e=N.current)||void 0===e?void 0:e.href;r?window.location.assign(r):k(o.slug)})}}}),()=>{i.u.getAll().forEach(e=>e.kill())}),[k,o.slug,v,m]),(0,n.jsx)(c,{root:!0,children:(0,n.jsxs)("div",{className:"project-page",children:[(0,n.jsxs)("div",{className:"project-nav",ref:u,children:[(0,n.jsxs)("div",{className:"link",children:[(0,n.jsx)("span",{children:"←\xa0"}),(0,n.jsx)("a",{href:A(a.slug),ref:w,onClick:b,children:"Previous"})]}),(0,n.jsxs)("div",{className:"project-page-scroll-progress",children:[(0,n.jsx)("p",{children:t.title}),(0,n.jsx)("div",{className:"project-page-scroll-progress-bar",ref:d})]}),(0,n.jsxs)("div",{className:"link",children:[(0,n.jsx)("a",{href:A(o.slug),ref:N,onClick:_,children:"Next"}),(0,n.jsx)("span",{children:"→\xa0"})]})]}),(0,n.jsxs)("div",{className:"project-hero",children:[(0,n.jsx)("h1",{children:t.title}),(0,n.jsx)("p",{id:"project-description",ref:p,children:t.description})]}),(0,n.jsx)("div",{className:"project-images",children:y.map((e,r)=>(0,n.jsx)("div",{className:"project-img",children:(0,n.jsx)("img",{src:e,alt:""})},r))}),(0,n.jsxs)("div",{className:"project-footer",ref:g,children:[(0,n.jsx)("h1",{children:o.title}),(0,n.jsx)("div",{className:"project-footer-copy",children:(0,n.jsx)("p",{children:"Next Project"})}),(0,n.jsx)("div",{className:"next-project-progress",children:(0,n.jsx)("div",{className:"next-project-progress-bar",ref:h})})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[592,10,441,684,358],()=>r(7444)),_N_E=e.O()}]);