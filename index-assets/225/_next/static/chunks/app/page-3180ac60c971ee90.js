(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4158:(e,r,t)=>{Promise.resolve().then(t.bind(t,9319))},9319:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var n=t(5155),c=t(2115);function i(){let e=(0,c.useRef)(null),r=(0,c.useRef)(null),t=(0,c.useRef)(null),i=(0,c.useRef)(null),a=(0,c.useRef)([]),u=(0,c.useRef)(null),s=(0,c.useRef)({current:0,target:0,max:0}),[l,m]=(0,c.useState)(!1),[o,d]=(0,c.useState)(0),h=(0,c.useRef)({itemSize:0,containerSize:0,indicatorSize:0}),v=Array.from({length:15},(e,r)=>"assets/img".concat(r+1,".jpeg")),g=(0,c.useRef)(!1),x=(e,r,t)=>e+(r-e)*t,f=()=>{let e=window.innerWidth<=900,n=a.current[0];if(!n)return;let c={itemSize:e?n.getBoundingClientRect().width:n.getBoundingClientRect().height,containerSize:e?r.current.scrollWidth:r.current.getBoundingClientRect().height,indicatorSize:e?t.current.getBoundingClientRect().width:t.current.getBoundingClientRect().height};h.current=c,s.current.max=c.containerSize-c.indicatorSize,l!==e&&m(e)},p=()=>{var e;a.current.forEach(e=>{(null==e?void 0:e.querySelector("img"))&&(e.querySelector("img").style.opacity="1")});let r=-s.current.current,t=r+h.current.indicatorSize,n=0,c=0;return a.current.forEach((e,i)=>{let a=i*h.current.itemSize,u=Math.max(0,Math.min(t,a+h.current.itemSize)-Math.max(r,a));u>n&&(n=u,c=i)}),(null===(e=a.current[c])||void 0===e?void 0:e.querySelector("img"))&&(a.current[c].querySelector("img").style.opacity=.3),c},S=e=>{o!==e&&(d(e),i.current&&(i.current.src=v[e]))},M=()=>{let e=g.current?.05:.075;if(s.current.current=x(s.current.current,s.current.target,e),Math.abs(s.current.current-s.current.target)>.01){let e=l?"translateX(".concat(s.current.current,"px)"):"translateY(".concat(s.current.current,"px)");r.current&&(r.current.style.transform=e),S(p())}else g.current=!1;u.current=requestAnimationFrame(M)};(0,c.useEffect)(()=>{var t;let n=e=>{e.preventDefault(),g.current=!1;let r=Math.min(Math.max(.5*e.deltaY,-20),20);s.current.target=Math.min(Math.max(s.current.target-r,-s.current.max),0)},c=0,i=e=>{l&&(c=e.touches[0].clientY)},m=e=>{if(l){let r=e.touches[0].clientY,t=Math.min(Math.max(.5*(c-r),-20),20);s.current.target=Math.min(Math.max(s.current.target-t,-s.current.max),0),c=r,e.preventDefault()}},o=()=>{f(),s.current.target=Math.min(Math.max(s.current.target,-s.current.max),0),s.current.current=s.current.target;let e=l?"translateX(".concat(s.current.current,"px)"):"translateY(".concat(s.current.current,"px)");r.current&&(r.current.style.transform=e)},d=e.current;return d&&(d.addEventListener("wheel",n,{passive:!1}),d.addEventListener("touchstart",i),d.addEventListener("touchmove",m,{passive:!1})),window.addEventListener("resize",o),f(),(null===(t=a.current[0])||void 0===t?void 0:t.querySelector("img"))&&(a.current[0].querySelector("img").style.opacity=.3),S(0),u.current=requestAnimationFrame(M),()=>{d&&(d.removeEventListener("wheel",n),d.removeEventListener("touchstart",i),d.removeEventListener("touchmove",m)),window.removeEventListener("resize",o),u.current&&cancelAnimationFrame(u.current)}},[l]);let j=e=>{g.current=!0;let r=-e*h.current.itemSize+(h.current.indicatorSize-h.current.itemSize)/2;s.current.target=Math.max(Math.min(r,0),-s.current.max)};return(0,n.jsxs)("div",{className:"container",ref:e,children:[(0,n.jsxs)("nav",{children:[(0,n.jsx)("p",{children:"Codegrid"}),(0,n.jsx)("p",{children:"Menu"})]}),(0,n.jsxs)("div",{className:"site-info",children:[(0,n.jsx)("p",{children:"E427"}),(0,n.jsx)("p",{children:(0,n.jsx)("span",{children:"Responsive Minimap"})})]}),(0,n.jsx)("div",{className:"img-preview",children:(0,n.jsx)("img",{ref:i,src:v[0],alt:""})}),(0,n.jsxs)("div",{className:"minimap",children:[(0,n.jsx)("div",{className:"indicator",ref:t}),(0,n.jsx)("div",{className:"items",ref:r,children:v.map((e,r)=>(0,n.jsx)("div",{className:"item",ref:e=>a.current[r]=e,onClick:()=>j(r),children:(0,n.jsx)("img",{src:e,alt:""})},e))})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,517,358],()=>r(4158)),_N_E=e.O()}]);